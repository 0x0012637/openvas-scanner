2008-06-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in: fix variable replacement problem.
	Original problem report and initial patch supplied by
	Ales Nosek.

2008-06-24  Michael Wiegand <michael.wiegand@intevation.de>

	Added a first draft of the OTP specification.
	
	* doc/otp/: Added.
	
	* doc/otp/otp_specification_10.txt: Added.

2008-06-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/users.c (users_add_rule): Fixed overflow problem.
	Found by Ales Nosek.

2008-06-19  Tim Brown <timb@nth-dimension.org.uk>

	* packaging/debian/control: Minor updates to control file, fixed
	Section, Priority and Build-Depends directives.

2008-06-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/kb_saving.txt: Changed some history naming back from
	OpenVAS to Nessus (probably a search-replace mistake).
	Also removed a documentation URL to nessus.org where
	the page has been removed meanwhile.

2008-05-12  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Second step for Change Request #4 (Remove plugin upload feature),
	http://www.openvas.org/openvas-cr-4.html

	* MANIFEST: Added packaging/debian

	* openvasd/pluginupload.c, openvasd/pluginupload.h: Added
	note about when this module can be removed.

	* openvasd/ntp_11.c (ntp_11_read_prefs): remove
	consideration of system preferences "admin_user",
	"plugin_upload" and "plugin_upload_suffixes".
	(ntp_11_parse_input): Remove undocumented protocol
	command "HUP_FATHER".

	* openvasd/preferences.c (preferences_new):
	Removed write defaults for these system preferences:
	"admin_user", "plugin_upload" and "plugin_upload_suffixes".
	(preferences_upload_enabled, preferences_upload_suffixes,
	preferences_user_is_admin): Removed.
	(preferences_reset_cache): Removed call of
	preferences_upload_enabled.

	* openvasd/preferences.h: Removed protos for
	preferences_user_is_admin, preferences_upload_enabled
	and preferences_upload_suffixes.

	* openvasd/comm.c (comm_send_preferences): No need of
	exception for "admin_user" any more.

	* openvasd/utils.c (get_max_hosts_number, get_max_checks_number): Removed
	allowance of overridung max_checks and max_hosts when
	being defined a admin user.

	* openvas-adduser.in: Removed the creation of the users
	plugins directory.
	Also removed any unused variable setttings via configure.

2008-05-11  Tim Brown  <timb@nth-dimension.org.uk>

	* debian: Removed as it will be replaced with packaging/debian.
	* packaging/debian: New. Debian packaging files.
	* doc/unbsp.c: Removed as no longer used.

2008-05-08  Bernhard Herzog  <bh@intevation.de>

	First step for Change Request #4 (Remove plugin upload feature),
	http://www.openvas.org/openvas-cr-4.html

	* openvasd/pluginupload.c (plugin_recv): Always discard the
	uploaded data and reject the plugin upload.  This change removes
	support for plugin upload without changing the protocol
	(plugins_homedir): Removed. No longer used.

2008-05-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/ntp.h: Removed. The contents is now in "ntp.h" of
	the openvas-libraries module.

	* include/openvas-devel.h: Removed. The content was redundant
	anyway (error prone!) and now is only in ntp.h of module
	openvas-libraries.

	* include/includes.h: Instead of openvas-devel.h now include ntp.h.

	* configure.in: Raised minimum required version of openvas-libraries
	from 1.0.0 to 1.0.2.

	* Makefile: Don't install openvas-devel.h anymore.

	* MANIFEST: Updated.

	* configure: Updated.

2008-04-18  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* packaging/fedora: New. Directory for Fedora RPM files.

	* packaging/fedora/openvas-server-1.0.0-1.fc8.openvas.spec,
	packaging/fedora/openvas-server-1.0.0-Makefile.diff: New.

	* MANIFEST: updated.

2008-04-16  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* packaging: New. Directory for packaging files.
	* packaging/opensuse: New. Directory for OpenSUSE RPM files.
	* packaging/opensuse/openvas-server-1.0.0-1.suse102.openvas.spec,
	packaging/opensuse/openvas-server-1.0.0-Makefile.diff: New.

2008-04-16  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Add missing DESTDIR for install targets.

2008-02-26  Tim Brown <timb@nth-dimension.org.uk>

	* openvasd/log.c, openvasd/preferences.c, doc/openvasd.8.in: Now
	supports syslog as per Nessus 2.3.1.
	* openvasd/log.c: Fixed possible NULL pointer exception.
	* openvasd/pluginload.c: Fixed typo in error message.
	* openvas-server/openvasd/comm.c: Removed unused variable.
	* openvas-server/openvasd/pluginscheduler.c: Fixed memory leaks as
	per Nessus 2.3.1.

2008-02-17  Tim Brown <timb@nth-dimension.org.uk>

	* openvasd/Makefile: Fixed bug preventing parallel builds under
	Gentoo.

2008-02-16  Laban Mwangi <labeneator@gmail.com>

	* openvasd/detached.c(detached_setup_mail_file): Fixing flawfinder l5
	warnings.

2008-02-11  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* CHANGES: Removed one item for 1.0.0 about gpgme, because
	it did not belong there.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 1.0.1.SVN

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 1.0.0 release.

	* VERSION: Set to 1.0.0.

	* CHANGES: Updated.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* UPGRADE_README: Removed. Nowadays such information are not relevant
	anymore.

	* MANIFEST: updated.

2008-01-31  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* doc/stubheader.txt: Removed. The stub headers are mangaged centralized
	in the "doc" module of OpenVAS SVN.

	* TODO: Removed an ancient entry about a fetch script that
	isn't part of this module.

	* MANIFEST: updated.

2007-11-24  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (main): Removed useless version check
	for libraries and nasl.

2007-11-07  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.9.3.SVN

2007-11-07  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.2 release.

	* VERSION: Set to 0.9.2.

	* CHANGES: Updated.

2007-11-06  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in: Added header.

	* configure.in: Added header and fixed version setting as used
	for openvas-config.

	* include/corevers.h.in: Adapt parameter names according to changes
	in configure.in

	* configure: updated.

2007-11-05  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* Makefile: Added creation of gnupg subdirectory under sysconfdir/openvas.

2007-10-26  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-10-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* README_SSL, doc/WARNING.En, doc/WARNING.Fr: Removed due
	to phrases that render the text files non-free.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Post release version bump.

	* VERSION: Set to 0.9.2.SVN

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.1 release.

	* VERSION: Set to 0.9.1.

	* CHANGES: Updated.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas.tmpl.in: Removed variable "nessus_lib".
	It wasn't used anyway.

	* configure: Updated.

2007-10-17  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in: Added version checks for openvas-libraries
	and openvas-libnasl.

	* TODO: Removed wish for version checking.

2007-10-15  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* TODO: Added some further items.

2007-10-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* VERSION: upgraded to 0.9.0.SVN.

2007-10-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-10-08  Bernhard Herzog  <bh@intevation.de>

	* openvasd/hosts_gatherer.h: Removed.  Use the one installed by
	openvas-libraries instead.

	* attack.c: #include <hg_utils.h> and move the
	hosts_gatherer.h include because it now comes from outside of
	openvasd.

	* openvasd/openvasd.c, openvasd/preferences.c: Move the
	hosts_gatherer.h include because it now comes from outside of
	openvasd.

2007-09-20  Bernhard Herzog  <bh@intevation.de>

	* openvasd/pluginload.c (init_plugin_classes)
	(plugins_reload_from_dir): Refactor the initialization of the
	plugin classes to from plugins_reload_from_dir into the new
	function init_plugin_classes

2007-07-27  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Doing the 0.9.0 release.

	* VERSION: Set to 0.9.0.

	* CHANGES: Set release date to 2007-07-27.

2007-07-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/preferences.c (preferences_new): Defaulting
	nasl_no_signature_checks to yes, because the signatures
	are currently not present.

2007-07-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* INSTALL: just slight correction and attached a warning
	that this is outdated.

2007-07-21  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* MANIFEST: updated.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	Remove support for Unix Sockets for communication between client and
	server. Since SSL support is present, this is not needed anymore for
	security reasons. Considerable performance loss is not expected, only
	at first connection time it might be faster with unix sockets (which
	is not really for sure since the loopback device is also very fast).
	Also, the implementation is suboptimal anyway because it works
	as compile-time option. It is very easy to select between a
	unix domain socket and inet socket at runtime.

	* configure.in: Removed unix-socket handling.

	* configure: updated.

	* include/config.h.in, openvasd/sighand.c, openvasd/preferences.c,
	openvasd/openvasd.c, openvasd/ntp_11.c, openvasd/hosts.c:
	Removed any handling of unix
	sockets (this also removes any occurance of USE_AF_UNIX,
	OPENVAS_ON_SSL, AF_UNIX_PATH, USE_AF_INET, AD_UNIX)

	* openvasd/comm.c: Remove handling for non-SSL conncetions.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* CHANGES: Updated with some notes.

2007-07-20  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd/openvasd.c (main): Removed HAVE_SSL remains.

	* Makefile: Removed installation of "nessus-services". This module
	does not need to care about libdir (creation removed)

	* TODO: cleaned a bit.

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* include/includes.h: Remove openssl includes

2007-07-18  Bernhard Herzog  <bh@intevation.de>

	* openvasd/openvas-check-signature.c: Use GnuTLS instead of
	OpenSSL.  See comments in the file for things that could be done
	better.
	(print_tls_error, map_file, hexdecode): New.  Helper functions.
	(generate_signature, verify_signature): Use GnuTLS instead of
	OpenSSL.  Also, both functions now have an additional parameter
	for the keyfile/certfile to use so that their filenames are no
	longer hard wired.
	(main): Add command line arguments to specifiy the key or
	certificat to use when signing or verifying.  Pass those filenames
	to generate_signature and verify_signature.

2007-07-04  Bernhard Herzog  <bh@intevation.de>

	* openvasd/plugs_hash.c (plugins_hash): Handle errors from
	gcry_md_open.  plugins_hash may return NULL now.

	* openvasd/comm.c (comm_send_md5_plugins): Handle case where
	plugins_hash returns NULL.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/plugs_hash.c (file_hash, plugins_hash): Use unsigned
	char (pointer/array) to hold the digest to avoid warnings about
	type mismatch.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/md5.c, openvasd/md5.c: removed. no longer needed.

	* openvasd/Makefile: md5.c has been removed.

	* openvasd/comm.c: Do not included md5.h.  it wasn't needed anyway

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/users.c remove includes of openssl headers.
	(check_user): Use libgcrypt to compute md5 sums.

	* openvasd/plugs_hash.c (md5sum_hex): New function to convert a
	binary md5 sum to hexadecimal.
	(file_hash, dir_plugins_hash, plugins_hash): Use libgcrypt to
	compute md5 sums.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/openvasd.c: Use the libopenvas ssl abstraction instead
	of openssl. As a consequence the ssl_cipher_list config option is
	no longer supported.
	(ssl_mt, ssl_ctx): Removed.
	(ovas_server_ctx): Introduced instead of ssl_mt and ssl_ctx
	(server_thread): Use the libopenvas ssl abstraction instead of
	openssl.
	(verify_callback): removed. verification is done in libopenvas.
	(main_loop): Use the libopenvas ssl abstraction instead of
	openssl.

2007-07-02  Bernhard Herzog  <bh@intevation.de>

	* openvasd/preferences.c: Always compile in
	preferences_get_string, i.e. do not depend on OPENVAS_ON_SSL being
	defined.

2007-06-22  Bernhard Herzog  <bh@intevation.de>

	* include/config.h, include/corevers.h: Removed from SVN because
	they're automatically generated by the configure script

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure, include/config.h, include/corevers.h: Updated.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/threadcompat.h: Fix names and description to reflect
	thread as subject.

	* include/includes.h: Replace libnessus.h by libopenvas.h.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/ntcompat.h: Removed. Renamed to threadcompat.h
	because in fact it is about threads.

	* include/threadcompat.h: New. Previous ntcompat.h.

	* Makefile, MANIFEST, include/includes.h: Renamed ntcompat.h
	to threadcompat.h

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/ntcompat.h: Remove now useless emtpy defines for
	PlugExport, DllExport, DllImport and ExtFunc. Remove
	alias print_error for printf which was not used strictly
	anyway.

	* openvasd/log.c, openvasd/openvasd.c, openvasd/pluginload.c,
	openvasd/preferences.c: Replaced print_error by printf.

2007-05-25  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* include/includes.h, include/openvas-devel.h, openvasd/sighand.c:
	Remove any consideration of NESSUSNT.

	* include/ntcompat.h: Remove any consideration of NESSUSNT and
	USE_NT_THREADS.

	* configure.in: Removed handlung for SSL presence, because
	it is now mandatory.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas-adduser.in, openvas-rmuser.in,
	openvas-mkcert.in, openvas-mkcert-client.in: Remove Cygwin stuff.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure: Updated.

2007-05-23  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* configure.in, openvas.tmpl.in, openvasd/Makefile: Replace
	use of nessus-libraries and libnasl by openvas-libraries
	and openvas-libnasl. This includes name change of the respective
	variables for the respective config scripts.

	* VERSION: Set back to 0.9.0. OpenVAS wasn't that far yet.

2007-05-09  Jan-Oliver Wagner <jan-oliver.wagner@intevation.de>

	* openvasd-config.in, configure.in, Makefile: Removed
	DESTDIR. It looks pretty useless as it needs to
	be set in the shell. It was introduced in Nessus 1.3.1.

	* ChangeLog: New. Started ChangeLog file.
